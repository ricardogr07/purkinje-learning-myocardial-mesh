[tox]
envlist = py310, py312, lint
isolated_build = true
skip_missing_interpreters = true

[testenv]
description = Build the wheel, install it, and run tests
deps =
    build
    pytest
commands =
    python -m build --wheel
    pip install dist/*.whl
    pytest tests

[testenv:lint]
description = Run ruff and black for linting and formatting
skip_install = true
deps =
    black
    ruff
commands =
    black --check src/ tests/
    ruff src/ tests/